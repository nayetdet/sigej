{% extends "base.html" %}
{% block content %}
<h2>Cadastro de produto</h2>
<div class="hint">
  Precisa cadastrar algo antes? <a href="{{ url_for('categorias_bp.categorias') }}">Categoria</a>,
  <a href="{{ url_for('unidades_bp.unidades') }}">Unidade</a>,
  <a href="{{ url_for('marcas_bp.marcas') }}">Marca</a>.
</div>
<form method="post" class="card">
  <label>Descrição</label>
  <input name="descricao" required>

  <label>Categoria</label>
  <select name="categoria_id">
    <option value="">Selecione</option>
    {% for c in categorias %}
      <option value="{{ c.id }}">{{ c.id }} — {{ c.nome }}</option>
    {% endfor %}
  </select>

  <label>Unidade de medida</label>
  <select name="unidade_medida_id">
    <option value="">Selecione</option>
    {% for u in unidades %}
      <option value="{{ u.id }}">{{ u.id }} — {{ u.sigla }}</option>
    {% endfor %}
  </select>

  <label>Marca</label>
  <select name="marca_id">
    <option value="">Selecione</option>
    {% for m in marcas %}
      <option value="{{ m.id }}">{{ m.id }} — {{ m.nome }}</option>
    {% endfor %}
  </select>

  <button class="btn" type="submit">Cadastrar</button>
</form>

<h3>Existentes</h3>
<table>
  <tr><th>ID</th><th>Descrição</th><th>Categoria</th><th>Unidade</th><th>Marca</th></tr>
  {% for p in produtos %}
    <tr>
      <td>{{ p.id }}</td>
      <td>{{ p.descricao }}</td>
      <td>{{ p.categoria_id }}</td>
      <td>{{ p.unidade_medida_id }}</td>
      <td>{{ p.marca_id }}</td>
    </tr>
  {% endfor %}
</table>
{% endblock %}
